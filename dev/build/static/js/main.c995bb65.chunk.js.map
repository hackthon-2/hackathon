{"version":3,"sources":["assets/user.svg","assets/pass.svg","assets/email.svg","views/Login.js","components/Nav.js","assets/datebtnY.svg","assets/datebtnT.svg","components/Diary/Diarytop.js","components/Diary/Todo.js","components/Diary/Addcard.js","components/Diary/Textbox.js","components/Diary/Todobox.js","components/Diary/Diarybody.js","views/Diary.js","components/Statistics/Showdata.js","components/Statistics/Stacard.js","views/Statistics.js","components/Home/Hometop.js","views/Home.js","App.js","index.js"],"names":["Login","props","useForm","register","handleSubmit","watch","errors","formState","reset","useState","Status","setStatus","chooseStatus","setChooseStatus","useToasts","setToast","changeForm","status","Err","styled","p","className","onClick","id","onSubmit","data","password","username","urlencoded","URLSearchParams","append","axios","method","url","headers","then","res","localStorage","setItem","token","text","catch","err","console","log","style","marginBottom","src","user","alt","type","placeholder","name","required","maxLength","minLength","pattern","pass","value","email","repassword","Nav","Link","path","useRouteMatch","Des","to","xmlns","width","height","viewBox","data-name","transform","d","fill","textIndent","marginTop","weekdayArr","Diarytop","setIsFilter","isAdd","setisAdd","isCard","Date","startDate","setStartDate","weekday","getDay","month","getMonth","year","getFullYear","day","getDate","weekDay","left","setDate","datebtnY","fontStyle","datebtnT","selected","onCalendarOpen","onCalendarClose","onSelect","date","Todo","item","isComplete","handleDelete","handleCheck","Card","setTypeStatus","typeStatus","todoItems","setValue","setTodoItems","setIsCard","setQuestion","question","setText","setBoxs","Boxs","handleInputQuestion","e","target","Ntodos","filter","todo","map","handleCancel","handleSave","box","todayDate","dayjs","format","dataTodo","header","time","JSON","stringify","concat","borderBottom","position","onChange","todoItem","key","onKeyUp","keyCode","randomid","t","version","p-id","Textbox","isDlt","display","x2","y2","stroke","strokeWidth","Todobox","todoitem","Diarybody","setIsDlt","isFilter","undefined","defaults","baseURL","Diary","BOXS","useEffect","Addcard","Showdata","times","barCard","Bar","div","ItemName","Times","Stacard","setSelectStatus","selectStatus","staCard","barColor","event","hidden","index","Statistics","staCards","setStaCards","padding","backgroundColor","Hometop","Home","App","Topics","match","AUTH_TOKEN","getItem","common","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c995bb65.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.8045efb6.svg\";","export default __webpack_public_path__ + \"static/media/pass.f629e52b.svg\";","export default __webpack_public_path__ + \"static/media/email.b3ac451d.svg\";","import React, { useState } from \"react\";\r\nimport \"../styles/Login.css\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport user from \"../assets/user.svg\";\r\nimport pass from \"../assets/pass.svg\";\r\nimport email from \"../assets/email.svg\";\r\nimport { useToasts } from \"@geist-ui/react\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nfunction Login(props) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm();\r\n  const [Status, setStatus] = useState(true);\r\n  const [chooseStatus, setChooseStatus] = useState(true);\r\n  const [toasts, setToast] = useToasts();\r\n  const onUpSubmit = (data) => {\r\n    const { password, username, email } = data;\r\n    let urlencoded = new URLSearchParams();\r\n    urlencoded.append(\"username\", username);\r\n    urlencoded.append(\"password\", password);\r\n    urlencoded.append(\"email\", email);\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/auth/registration\",\r\n      data: urlencoded,\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setToast({ text: \"注册成功\" });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const changeForm = (status) => {\r\n    setStatus(status);\r\n    reset();\r\n  };\r\n  const onInSubmit = (data) => {\r\n    const { password, username } = data;\r\n    let urlencoded = new URLSearchParams();\r\n    urlencoded.append(\"username\", username);\r\n    urlencoded.append(\"password\", password);\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/auth/login\",\r\n      data: urlencoded,\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n    })\r\n      .then((res) => {\r\n        localStorage.setItem(\"token\",res.data.data.token)\r\n        setToast({ text: \"登录成功\" });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const Err = styled.p`\r\n    font-size: 12px;\r\n    font-weight: 200;\r\n    color: #f05858e0;\r\n  `;\r\n  return (\r\n    <div className=\"homeBox animate__animated animate__fadeInUp\">\r\n      {chooseStatus && Status ? (\r\n        <div className=\"choose-form\">\r\n          <button\r\n            className=\"btn toUp\"\r\n            onClick={() => {\r\n              changeForm(false);\r\n              setChooseStatus(false);\r\n            }}\r\n          >\r\n            注册\r\n          </button>\r\n          <button\r\n            className=\"btn sign\"\r\n            onClick={() => {\r\n              changeForm(true);\r\n              setChooseStatus(false);\r\n            }}\r\n          >\r\n            登录\r\n          </button>\r\n        </div>\r\n      ) : null}\r\n      {!chooseStatus ? (\r\n        Status ? (\r\n          <div className=\"signInBox animate__animated animate__fadeInUp\">\r\n            <form\r\n              id=\"signIn\"\r\n              className=\"signin-form\"\r\n              onSubmit={handleSubmit(onInSubmit)}\r\n            >\r\n              <div className=\"User\" style={{ marginBottom: \"24px\" }}>\r\n                <img className=\"Uplus\" src={user} alt=\"user\"></img>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"账号\"\r\n                  name=\"username\"\r\n                  className=\"form-control\"\r\n                  {...register(\"username\", {\r\n                    required: true,\r\n                    maxLength: 10,\r\n                    minLength: 6,\r\n                    pattern: /^[A-Z|a-z|0-9]{5,10}/,\r\n                  })}\r\n                />\r\n              </div>\r\n              <div className=\"Pass\">\r\n                <img className=\"Pplus\" src={pass} alt=\"pass\"></img>\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"密码\"\r\n                  className=\"form-control\"\r\n                  {...register(\"password\")}\r\n                />\r\n              </div>\r\n              <div className=\"btns\">\r\n                {/* <button className=\"btn\" onClick={changeForm}>\r\n                注册\r\n              </button> */}\r\n                <input type=\"submit\" value=\"登录\" className=\"btn sign\" />\r\n              </div>\r\n              <p className=\"change-form\" onClick={() => changeForm(false)}>\r\n                新用户，前往注册\r\n              </p>\r\n            </form>\r\n          </div>\r\n        ) : (\r\n          <div className=\"signupBox animate__animated animate__fadeInUp\">\r\n            <form className=\"signup-form\" onSubmit={handleSubmit(onUpSubmit)}>\r\n              <div className=\"User\" style={{ marginBottom: \"24px\" }}>\r\n                <img className=\"Uplus\" src={user} alt=\"user\"></img>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"账号\"\r\n                  name=\"username\"\r\n                  className=\"form-control\"\r\n                  {...register(\"username\", {\r\n                    required: true,\r\n                    maxLength: 10,\r\n                    minLength: 6,\r\n                    pattern: /^[A-Z|a-z|0-9]{5,10}/,\r\n                  })}\r\n                />\r\n\r\n                {errors?.username?.type === \"required\" && (\r\n                  <Err>您需填写账号</Err>\r\n                )}\r\n                {errors?.username?.type === \"maxLength\" && (\r\n                  <Err>账号长度不得超过10位</Err>\r\n                )}\r\n                {errors?.username?.type === \"minLength\" && (\r\n                  <Err>账号长度不得少于6位</Err>\r\n                )}\r\n                {errors?.username?.type === \"pattern\" && (\r\n                  <Err>只允许数字和字母</Err>\r\n                )}\r\n              </div>\r\n              <div className=\"Email\" style={{ marginBottom: \"24px\" }}>\r\n                <img className=\"Pplus\" src={email} alt=\"email\"></img>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"邮箱\"\r\n                  name=\"username\"\r\n                  className=\"form-control\"\r\n                  {...register(\"email\", {\r\n                    required: true,\r\n                    pattern: /^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/,\r\n                  })}\r\n                />\r\n\r\n                {errors?.email?.type === \"required\" && <Err>您需填写邮箱</Err>}\r\n                {errors?.email?.type === \"pattern\" && <Err>邮箱格式错误</Err>}\r\n              </div>\r\n              <div className=\"Pass\" style={{ marginBottom: \"24px\" }}>\r\n                <img className=\"Pplus\" src={pass} alt=\"pass\"></img>\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"请输入长度不少于6位的密码\"\r\n                  className=\"form-control\"\r\n                  {...register(\"password\", {\r\n                    required: true,\r\n                    maxLength: 15,\r\n                    minLength: 6,\r\n                    pattern: /^[A-Z|a-z|0-9]/,\r\n                  })}\r\n                />\r\n                {errors?.password?.type === \"required\" && (\r\n                  <Err>您需填写密码</Err>\r\n                )}\r\n                {errors?.password?.type === \"maxLength\" && (\r\n                  <Err>密码长度不得超过15位</Err>\r\n                )}\r\n                {errors?.password?.type === \"minLength\" && (\r\n                  <Err>密码长度不得少于6位</Err>\r\n                )}\r\n                {errors?.password?.type === \"pattern\" && (\r\n                  <Err>只允许数字和字母</Err>\r\n                )}\r\n              </div>\r\n              <div className=\"rePass\">\r\n                <img className=\"Pplus\" src={pass} alt=\"pass\"></img>\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"确认密码\"\r\n                  name=\"password\"\r\n                  className=\"form-control\"\r\n                  {...register(\"repassword\", {\r\n                    required: true,\r\n                    maxLength: 15,\r\n                    minLength: 6,\r\n                    pattern: /^[A-Z|a-z|0-9]/,\r\n                  })}\r\n                />\r\n                {errors?.repassword?.type === \"required\" && (\r\n                  <Err>您需填写密码</Err>\r\n                )}\r\n                {watch(\"repassword\") === watch(\"password\") ? null : (\r\n                  <Err>两次密码不一致</Err>\r\n                )}\r\n              </div>\r\n              <div className=\"btns\">\r\n                {/* <button className=\"btn\" onClick={changeForm}>\r\n                返回\r\n              </button> */}\r\n\r\n                <input type=\"submit\" value=\"注册\" className=\"btn sign\" />\r\n              </div>\r\n              <p className=\"change-form\" onClick={() => changeForm(true)}>\r\n                已有帐户\r\n              </p>\r\n            </form>\r\n          </div>\r\n        )\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nfunction Nav({ Link }) {\r\n  let path = useRouteMatch().path;\r\n  const Des = styled.p`\r\n    font-size: 12px;\r\n    font-weight: 200;\r\n  `;\r\n  return (\r\n    <footer className=\"Nav\">\r\n      <ul className=\"Navitems\">\r\n        <li className=\"Navitem\">\r\n          <Link to=\"/\" className=\"NavLink\">\r\n            <i>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"27.5\"\r\n                height=\"30\"\r\n                viewBox=\"0 0 27.5 30\"\r\n              >\r\n                <g\r\n                  id=\"组_3\"\r\n                  data-name=\"组 3\"\r\n                  transform=\"translate(-86.99 -354.71)\"\r\n                >\r\n                  <path\r\n                    id=\"路径_30\"\r\n                    data-name=\"路径 30\"\r\n                    d=\"M88.7,359.4a3.442,3.442,0,0,0,3.692,3.136h21.222a.829.829,0,0,1,.877.757v20.657a.829.829,0,0,1-.877.757H92.391c-2.983-.007-5.393-2.093-5.4-4.671V359.374c.008-2.571,2.418-4.664,5.4-4.664h21.222a.824.824,0,0,1,.877.75v.007a.818.818,0,0,1-.877.743H92.322A3.434,3.434,0,0,0,88.7,359.4Z\"\r\n                    transform=\"translate(0)\"\r\n                    fill={path === \"/\" ? \"#FF8839\" : \"#FEBA83\"}\r\n                  />\r\n                  <path\r\n                    id=\"路径_29\"\r\n                    data-name=\"路径 29\"\r\n                    d=\"M94.289,360.285a.973.973,0,0,0-1.072.839.943.943,0,0,0,.906.993,1.076,1.076,0,0,0,.166,0h22.475a.943.943,0,0,0,.906-.993.958.958,0,0,0-.906-.839Z\"\r\n                    transform=\"translate(-3.38 -1.769)\"\r\n                    fill={path === \"/\" ? \"#FF8839\" : \"#FEBA83\"}\r\n                  />\r\n                </g>\r\n              </svg>\r\n            </i>\r\n            <Des>日记</Des>\r\n          </Link>\r\n        </li>\r\n        <li className=\"Navitem\">\r\n          <Link to=\"/statistics\">\r\n            <i>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"32\"\r\n                height=\"29.996\"\r\n                viewBox=\"0 0 32 29.996\"\r\n              >\r\n                <path\r\n                  id=\"路径_27\"\r\n                  data-name=\"路径 27\"\r\n                  d=\"M130.651,164.293h-1.68a1.7,1.7,0,0,1-1.732-1.664v-8.607a1.7,1.7,0,0,1,1.732-1.668h1.68a1.7,1.7,0,0,1,1.732,1.668v8.607A1.7,1.7,0,0,1,130.651,164.293Zm8.655,0h-1.68a1.7,1.7,0,0,1-1.732-1.664v-19.21a1.7,1.7,0,0,1,1.732-1.668h1.68a1.7,1.7,0,0,1,1.732,1.668v19.21A1.7,1.7,0,0,1,139.306,164.293Zm8.827,0h-1.68a1.7,1.7,0,0,1-1.732-1.664V149.207a1.7,1.7,0,0,1,1.732-1.668h1.68a1.7,1.7,0,0,1,1.732,1.668v13.422A1.7,1.7,0,0,1,148.133,164.293Zm3.036,5H122.632a1.7,1.7,0,0,1-1.732-1.668V140.964a1.733,1.733,0,0,1,3.464,0v25h26.8a1.669,1.669,0,1,1,0,3.336Z\"\r\n                  transform=\"translate(-120.9 -139.3)\"\r\n                  fill={path === \"/statistics\" ? \"#FF8839\" : \"#FEBA83\"}\r\n                />\r\n              </svg>\r\n            </i>\r\n            <Des style={{ textIndent: \"3px\" }}>统计</Des>\r\n          </Link>\r\n        </li>\r\n        <li className=\"Navitem\">\r\n          <Link to=\"/topics\">\r\n            <i>\r\n              <svg\r\n                id=\"组件_7_1\"\r\n                data-name=\"组件 7 – 1\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"32\"\r\n                height=\"30\"\r\n                viewBox=\"0 0 32 30\"\r\n              >\r\n                <rect\r\n                  id=\"矩形_19\"\r\n                  data-name=\"矩形 19\"\r\n                  width=\"32\"\r\n                  height=\"30\"\r\n                  fill=\"#fff\"\r\n                />\r\n                <path\r\n                  id=\"路径_31\"\r\n                  data-name=\"路径 31\"\r\n                  d=\"M48.529,204.766a4.77,4.77,0,0,0,.331,1.75A4.612,4.612,0,0,0,49.807,208a4.316,4.316,0,0,0,1.416.991,4.166,4.166,0,0,0,3.343,0A4.406,4.406,0,0,0,55.985,208a4.617,4.617,0,0,0,.947-1.485,4.8,4.8,0,0,0,0-3.5,4.586,4.586,0,0,0-.947-1.485,4.352,4.352,0,0,0-1.419-.994,4.23,4.23,0,0,0-1.672-.35,4.178,4.178,0,0,0-1.672.35,4.325,4.325,0,0,0-1.416.994,4.609,4.609,0,0,0-.944,1.485A4.793,4.793,0,0,0,48.529,204.766Zm20.086-1.106s-.019-.438-3.868-4.207c-5.506-4.991-10.412-5.707-14.058-5.232a15.725,15.725,0,0,0-6.615,2.66,42.173,42.173,0,0,0-6.921,6.664,3.383,3.383,0,0,0,.256,2.991s7.9,8.9,15.074,8.9A16.928,16.928,0,0,0,64.5,211.023a27.588,27.588,0,0,0,4.112-4.579,3.638,3.638,0,0,0,0-2.785ZM52.9,212.448a7.694,7.694,0,1,1,7.334-7.685A7.516,7.516,0,0,1,52.9,212.448Zm0,0\"\r\n                  transform=\"translate(-36.897 -188.097)\"\r\n                  fill={path === \"/topics\" ? \"#FF8839\" : \"#FEBA83\"}\r\n                />\r\n              </svg>\r\n            </i>\r\n            <Des style={{ textIndent: \"3px\", marginTop: \"-1px\" }}>监督</Des>\r\n          </Link>\r\n        </li>\r\n        <li className=\"Navitem\">\r\n          <Link to=\"/home\">\r\n            <i>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"32\"\r\n                height=\"32\"\r\n                viewBox=\"0 0 32 32\"\r\n              >\r\n                <g\r\n                  id=\"组_4\"\r\n                  data-name=\"组 4\"\r\n                  transform=\"translate(-31.319 -279.17)\"\r\n                >\r\n                  <path\r\n                    id=\"路径_36\"\r\n                    data-name=\"路径 36\"\r\n                    d=\"M45.081,279.17h-.072a9.046,9.046,0,1,0,.072,0Zm3.224,9.884c0,.986-.372,1.474-1.137,1.474s-1.136-.487-1.136-1.474v-1.818c0-.975.382-1.462,1.136-1.462s1.137.487,1.137,1.462Zm-4.3,0c0,.986-.382,1.474-1.137,1.474s-1.136-.487-1.136-1.474v-1.818c0-.975.372-1.462,1.136-1.462s1.137.487,1.137,1.462Z\"\r\n                    transform=\"translate(2.537 0)\"\r\n                    fill={path === \"/upload\" ? \"#FF8839\" : \"#FEBA83\"}\r\n                  />\r\n                  <path\r\n                    id=\"路径_37\"\r\n                    data-name=\"路径 37\"\r\n                    d=\"M31.338,307.916H63.316s.613-12.875-16.289-13S31.338,307.916,31.338,307.916Z\"\r\n                    transform=\"translate(0 3.254)\"\r\n                    fill={path === \"/upload\" ? \"#FF8839\" : \"#FEBA83\"}\r\n                  />\r\n                </g>\r\n              </svg>\r\n            </i>\r\n            <Des style={{ textIndent: \"3px\" }}>我的</Des>\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </footer>\r\n  );\r\n}\r\nexport default Nav;\r\n","export default __webpack_public_path__ + \"static/media/datebtnY.8932a446.svg\";","export default __webpack_public_path__ + \"static/media/datebtnT.267c48ce.svg\";","import React, { useState } from \"react\";\r\nimport \"../../styles/Diary/Diarytop.css\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport datebtnY from \"../../assets/datebtnY.svg\";\r\nimport datebtnT from \"../../assets/datebtnT.svg\";\r\n\r\nlet weekdayArr = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\r\nfunction Diarytop({ setIsFilter, isAdd, setisAdd, isCard }) {\r\n  let [startDate, setStartDate] = useState(new Date());\r\n  let weekday = startDate.getDay();\r\n  let month = startDate.getMonth() + 1;\r\n  let year = startDate.getFullYear();\r\n  let day = startDate.getDate();\r\n  let weekDay = \"星期\" + weekdayArr[weekday];\r\n  const handleDate = (date) => {\r\n    setIsFilter(false);\r\n    setStartDate(date);\r\n  };\r\n  const lastDay = () => {\r\n    startDate = new Date(startDate.setDate(startDate.getDate() - 1));\r\n    setStartDate(startDate);\r\n  };\r\n  const nextDay = () => {\r\n    startDate = new Date(startDate.setDate(startDate.getDate() + 1));\r\n    setStartDate(startDate);\r\n  };\r\n  const hanldeBoxs = () => {\r\n    setIsFilter(true);\r\n    setisAdd(true);\r\n  };\r\n  return (\r\n    <div className=\"diary-top\">\r\n      <div className=\"date-container\">\r\n        <button className=\"datebtn\" style={{ left: \"10px\" }} onClick={lastDay}>\r\n          <img src={datebtnY} alt=\"上一天\"></img>\r\n        </button>\r\n        <div className=\"show-date\">\r\n          <p className=\"show-day\">\r\n            <i className=\"showday\" style={{ fontStyle: \"normal\" }}>\r\n              {day}\r\n            </i>\r\n          </p>\r\n          <p className=\"show-weekday\">\r\n            {weekDay}\r\n            <br />\r\n            <i className=\"show-month\">{month + \"月\" + year}</i>\r\n          </p>\r\n        </div>\r\n        <button className=\"datebtn\" style={{ left: \"136px\" }} onClick={nextDay}>\r\n          <img src={datebtnT} alt=\"下一天\"></img>\r\n        </button>\r\n      </div>\r\n      <DatePicker\r\n        selected={startDate}\r\n        onCalendarOpen={() => setIsFilter(true)}\r\n        onCalendarClose={() => setIsFilter(false)}\r\n        onSelect={handleDate}\r\n      />\r\n      <button className=\"choose-btn\" onClick={hanldeBoxs}>\r\n        <svg\r\n          id=\"组件_6_1\"\r\n          data-name=\"组件 6 – 1\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"24\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            id=\"choose\"\r\n            data-name=\"路径 41\"\r\n            d=\"M467.27,364.783a12,12,0,1,1,12-12A12,12,0,0,1,467.27,364.783Zm0-1.714a10.286,10.286,0,0,0,.006-20.571h-.006a10.286,10.286,0,1,0,0,20.571Zm-5.254-11.086a.994.994,0,0,1,1.045.942c0,.023,0,.047,0,.07a.994.994,0,0,1-.292.738,1.093,1.093,0,0,1-.754.291.984.984,0,0,1-.72-.291,1,1,0,0,1-.309-.738.933.933,0,0,1,.309-.72A.919.919,0,0,1,462.016,351.982Zm5.726,0a1.018,1.018,0,0,1,.754.292.982.982,0,0,1,.292.72.994.994,0,0,1-.292.738,1.093,1.093,0,0,1-.754.291,1.051,1.051,0,0,1-.737-.291.983.983,0,0,1-.292-.738.919.919,0,0,1,.292-.72A.979.979,0,0,1,467.742,351.982Zm5.709,0a.979.979,0,0,1,.737.292.933.933,0,0,1,.309.72.945.945,0,0,1-.309.738,1.078,1.078,0,0,1-1.474,0,.983.983,0,0,1-.292-.738.919.919,0,0,1,.292-.72A.979.979,0,0,1,473.45,351.982Z\"\r\n            transform=\"translate(-455.27 -340.783)\"\r\n            fill={isAdd ? \"#FF8839\" : \"#B9B9B9\"}\r\n          />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Diarytop;\r\n","import React from \"react\";\r\n\r\nfunction Todo({ id, item, isComplete, handleDelete, handleCheck }) {\r\n  return (\r\n    <div className=\"todo-list\">\r\n      <div className=\"todo-item\">\r\n        <input type=\"checkbox\" />\r\n        <p className={\"todo-text \" + (isComplete ? \"done\" : \"\")}>{item}</p>\r\n        <span className=\"check-button\" onClick={() => handleCheck(id)}>\r\n          <i className={`${isComplete === true ? \"CB\" : \"\"}`}></i>\r\n        </span>\r\n        <button className=\"delete\" onClick={() => handleDelete(id)}>\r\n          <i className=\"dlt\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Todo;\r\n","import React from \"react\";\r\nimport \"../../styles/Diary/Card.css\";\r\nimport randomid from \"randomid\";\r\nimport Todo from \"./Todo\";\r\nimport axios from \"axios\";\r\nimport dayjs from \"dayjs\";\r\n\r\nfunction Card({\r\n  setTypeStatus,\r\n  typeStatus,\r\n  value,\r\n  todoItems,\r\n  setValue,\r\n  setTodoItems,\r\n  setIsFilter,\r\n  setIsCard,\r\n  setQuestion,\r\n  question,\r\n  text,\r\n  setText,\r\n  Boxs,\r\n  setBoxs,\r\n}) {\r\n  const handleInputTodo = (e) => {\r\n    value = e.target.value;\r\n    setValue(value);\r\n  };\r\n  const handleInputQuestion = (e) => {\r\n    question = e.target.value;\r\n    setQuestion(question);\r\n  };\r\n  const handleInputText = (e) => {\r\n    text = e.target.value;\r\n    setText(text);\r\n  };\r\n  const handleKeyUp = (e) => {\r\n    if (e.keyCode !== 13 || value === \"\") return;\r\n\r\n    todoItems = [\r\n      ...todoItems,\r\n      { isComplete: false, item: value, id: randomid() },\r\n    ];\r\n    setTodoItems(todoItems);\r\n    setValue(\"\");\r\n  };\r\n  const handleBTN = () => {\r\n    if (value === \"\") {\r\n      return;\r\n    } else {\r\n      todoItems = [\r\n        ...todoItems,\r\n        { isComplete: false, item: value, id: randomid() },\r\n      ];\r\n      setTodoItems(todoItems);\r\n      setValue(\"\");\r\n    }\r\n  };\r\n  const handleDelete = (id) => {\r\n    const Ntodos = todoItems.filter((todo) => todo.id !== id);\r\n    setTodoItems(Ntodos);\r\n  };\r\n  const handleCheck = (id) => {\r\n    setTodoItems(\r\n      todoItems.map((todo) => {\r\n        if (todo.id === id) {\r\n          return {\r\n            ...todo,\r\n            isComplete: !todo.isComplete,\r\n          };\r\n        }\r\n        return todo;\r\n      })\r\n    );\r\n  };\r\n  const handleCancel = () => {\r\n    setIsFilter(false);\r\n    setIsCard(false);\r\n  };\r\n  const handleSave = () => {\r\n    let box = {};\r\n    let todayDate = dayjs().format(\"YYYY-MM-DD\");\r\n    if (typeStatus === \"待办\") {\r\n      let dataTodo = {\r\n        header: question,\r\n        todoItems,\r\n        time: todayDate,\r\n      };\r\n      axios({\r\n        url: \"/user/todoCreation\",\r\n        method: \"post\",\r\n        data: JSON.stringify(dataTodo),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }).then((res) => {\r\n        axios({\r\n          url: \"/user/todoList\",\r\n          method: \"get\",\r\n        })\r\n          .then((res) => {\r\n            axios({\r\n              url: \"/user/todoList\",\r\n              method: \"get\",\r\n            }).then((res) => {\r\n              box = box.concat(res.data.data);\r\n              axios({\r\n                url: \"/user/diaryList\",\r\n                method: \"get\",\r\n              }).then((res) => {\r\n                setBoxs(box.concat(res.data.data));\r\n                console.log(box.concat(res.data.data));\r\n              });\r\n            });\r\n          })\r\n          .catch((err) => console.log(err));\r\n      });\r\n    } else {\r\n      let urlencoded = new URLSearchParams();\r\n      urlencoded.append(\"question\", question);\r\n      urlencoded.append(\"text\", text);\r\n      urlencoded.append(\"time\", todayDate);\r\n      axios({\r\n        url: \"/user/diaryCreation\",\r\n        method: \"post\",\r\n        data: urlencoded,\r\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      }).then((res) => {\r\n        axios({\r\n          url: \"/user/todoList\",\r\n          method: \"get\",\r\n        }).then((res) => {\r\n          box = box.concat(res.data.data);\r\n          axios({\r\n            url: \"/user/diaryList\",\r\n            method: \"get\",\r\n          }).then((res) => {\r\n            setBoxs(box.concat(res.data.data));\r\n            console.log(box.concat(res.data.data));\r\n          });\r\n        });\r\n      });\r\n      // Boxs.push(box);\r\n      // setBoxs(Boxs);\r\n    }\r\n    setQuestion(\"\");\r\n    setText(\"\");\r\n    handleCancel();\r\n  };\r\n  if (typeStatus !== \"记录\")\r\n    return (\r\n      <div className=\"diary-card\">\r\n        <div className=\"card-header\">\r\n          <div\r\n            style={{\r\n              borderBottom: \"2px solid rgb(255, 197, 96)\",\r\n              position: \"relative\",\r\n              height: \"35px\",\r\n            }}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-header\"\r\n              placeholder=\"写下一个问题...\"\r\n              value={question}\r\n              onChange={handleInputQuestion}\r\n            />\r\n            <button className=\"type-btn\" onClick={() => setTypeStatus(\"记录\")}>\r\n              {typeStatus}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"todo-items\">\r\n            {todoItems.map((todoItem) => {\r\n              return (\r\n                <Todo\r\n                  {...todoItem}\r\n                  key={todoItem.id}\r\n                  handleCheck={handleCheck}\r\n                  handleDelete={handleDelete}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"add-todo\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"写点什么要做的吧...\"\r\n              value={value}\r\n              className=\"add-todo-body\"\r\n              onChange={handleInputTodo}\r\n              onKeyUp={handleKeyUp}\r\n            />\r\n            <button className=\"add-btn\" onClick={handleBTN}>\r\n              <i>\r\n                <svg\r\n                  t=\"1618508100399\"\r\n                  viewBox=\"0 0 1024 1024\"\r\n                  version=\"1.1\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  p-id=\"6740\"\r\n                  width=\"30\"\r\n                  height=\"30\"\r\n                >\r\n                  <path\r\n                    d=\"M503.466667 628.352l130.773333-130.773333a39.936 39.936 0 0 1 56.533333 56.490666l-157.994666 158.037334a39.978667 39.978667 0 0 1-49.322667 5.674666 39.893333 39.893333 0 0 1-11.52-8.021333l-102.357333-102.357333a39.936 39.936 0 0 1 56.490666-56.490667l77.44 77.44zM768 213.333333h85.76C900.608 213.333333 938.666667 251.306667 938.666667 298.666667v554.666666a85.333333 85.333333 0 0 1-84.906667 85.333334H170.24C123.392 938.666667 85.333333 900.693333 85.333333 853.333333V298.666667a85.333333 85.333333 0 0 1 84.906667-85.333334H256V170.24C256 146.986667 274.944 128 298.666667 128a42.666667 42.666667 0 0 1 42.666666 42.24V213.333333h341.333334V170.24c0-23.296 18.944-42.24 42.666666-42.24a42.666667 42.666667 0 0 1 42.666667 42.24V213.333333z m0 85.333334v43.093333c0 23.296-18.944 42.24-42.666667 42.24a42.666667 42.666667 0 0 1-42.666666-42.24V298.666667H341.333333v43.093333C341.333333 365.013333 322.389333 384 298.666667 384a42.666667 42.666667 0 0 1-42.666667-42.24V298.666667h-17.066667A68.266667 68.266667 0 0 0 170.666667 366.933333v418.133334A68.266667 68.266667 0 0 0 238.933333 853.333333h546.133334a68.266667 68.266667 0 0 0 68.266666-68.266666V366.933333A68.266667 68.266667 0 0 0 785.066667 298.666667H768z\"\r\n                    p-id=\"6741\"\r\n                    fill=\"#f4ea2a\"\r\n                  ></path>\r\n                </svg>\r\n              </i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <button className=\"cancel-footer\" onClick={handleCancel}>\r\n            取消\r\n          </button>\r\n          <button className=\"save-footer\" onClick={handleSave}>\r\n            完成\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"diary-card\">\r\n      <div className=\"card-header\">\r\n        <div\r\n          style={{\r\n            borderBottom: \"2px solid rgb(255, 197, 96)\",\r\n            position: \"relative\",\r\n            height: \"35px\",\r\n          }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            className=\"input-header\"\r\n            placeholder=\"写下一个问题...\"\r\n            value={question}\r\n            onChange={handleInputQuestion}\r\n          />\r\n          <button className=\"type-btn\" onClick={() => setTypeStatus(\"待办\")}>\r\n            {typeStatus}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <textarea\r\n          className=\"input-body\"\r\n          value={text}\r\n          onChange={handleInputText}\r\n        ></textarea>\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        <button className=\"cancel-footer\" onClick={handleCancel}>\r\n          取消\r\n        </button>\r\n        <button className=\"save-footer\" onClick={handleSave}>\r\n          完成\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport \"../../styles/Diary/Box.css\";\r\n\r\nfunction Textbox({ question, text, id, setBoxs, isDlt, Boxs }) {\r\n  const handleDeleteBox = () => {\r\n    axios({\r\n      url: \"/user/diaryDeletion?diaryID=\" + id,\r\n      method: \"delete\",\r\n    })\r\n      .then((res) => {\r\n        Boxs = Boxs.filter((box) => box.id !== id);\r\n        setBoxs(Boxs);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <div className=\"Box\">\r\n      <h2 className=\"header\">{question}</h2>\r\n      <div className=\"text-body\">\r\n        <p className=\"show-text\">{text}</p>\r\n      </div>\r\n      <button\r\n        className=\"delete-box\"\r\n        onClick={handleDeleteBox}\r\n        style={isDlt ? null : { display: \"none\" }}\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"13.044\"\r\n          height=\"13.044\"\r\n          viewBox=\"0 0 9.044 9.044\"\r\n          className=\"delete-box-svg\"\r\n        >\r\n          <g\r\n            id=\"组件_15_1\"\r\n            data-name=\"组件 15 – 1\"\r\n            transform=\"translate(1.061 1.061)\"\r\n          >\r\n            <line\r\n              id=\"直线_7\"\r\n              data-name=\"直线 7\"\r\n              x2=\"6.923\"\r\n              y2=\"6.923\"\r\n              fill=\"none\"\r\n              stroke=\"#979797\"\r\n              strokeWidth=\"3\"\r\n            />\r\n            <path\r\n              id=\"路径_58\"\r\n              data-name=\"路径 58\"\r\n              d=\"M6.923,0,2.163,4.76,0,6.923\"\r\n              fill=\"none\"\r\n              stroke=\"#979797\"\r\n              strokeWidth=\"3\"\r\n            />\r\n          </g>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Textbox;\r\n","import React from \"react\";\r\nimport \"../../styles/Diary/Box.css\";\r\nimport axios from \"axios\";\r\n\r\nfunction Todobox({ question, todoItems, isDlt, id, setBoxs, Boxs }) {\r\n  const handleDeleteBox = () => {\r\n    axios({\r\n      url: \"/user/todoDeletion?todoID=\" + id,\r\n      method: \"delete\",\r\n    })\r\n      .then((res) => {\r\n        Boxs = Boxs.filter((box) => box.id !== id);\r\n        setBoxs(Boxs);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <div className=\"Box\">\r\n      <h2 className=\"header\">{question}</h2>\r\n      {todoItems.map((todoitem) => {\r\n        const { id, item, isComplete } = todoitem;\r\n        return (\r\n          <div className=\"todo-item\" key={id}>\r\n            <input type=\"checkbox\" />\r\n            <p className=\"todo-text\">{item}</p>\r\n            <span className=\"check-button\">\r\n              <i className={isComplete ? \"CB\" : \"\"}></i>\r\n            </span>\r\n          </div>\r\n        );\r\n      })}\r\n      <button\r\n        onClick={handleDeleteBox}\r\n        className=\"delete-box\"\r\n        style={isDlt ? null : { display: \"none\" }}\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"13.044\"\r\n          height=\"13.044\"\r\n          viewBox=\"0 0 9.044 9.044\"\r\n          className=\"delete-box-svg\"\r\n        >\r\n          <g\r\n            id=\"组件_15_1\"\r\n            data-name=\"组件 15 – 1\"\r\n            transform=\"translate(1.061 1.061)\"\r\n          >\r\n            <line\r\n              id=\"直线_7\"\r\n              data-name=\"直线 7\"\r\n              x2=\"6.923\"\r\n              y2=\"6.923\"\r\n              fill=\"none\"\r\n              stroke=\"#979797\"\r\n              strokeWidth=\"3\"\r\n            />\r\n            <path\r\n              id=\"路径_58\"\r\n              data-name=\"路径 58\"\r\n              d=\"M6.923,0,2.163,4.76,0,6.923\"\r\n              fill=\"none\"\r\n              stroke=\"#979797\"\r\n              strokeWidth=\"3\"\r\n            />\r\n          </g>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Todobox;\r\n","import React from \"react\";\r\nimport Textbox from \"./Textbox\";\r\nimport Todobox from \"./Todobox\";\r\n\r\nfunction Diarybody({\r\n  setisAdd,\r\n  setIsFilter,\r\n  setIsDlt,\r\n  Boxs,\r\n  isDlt,\r\n  isFilter,\r\n  setBoxs,\r\n}) {\r\n  return (\r\n    <div>\r\n      <div\r\n        onClick={() => {\r\n          setisAdd(false);\r\n          setIsFilter(false);\r\n          setIsDlt(false);\r\n        }}\r\n        className={isFilter ? \"showDiaryFilter showDiary\" : \"showDiary\"}\r\n      >\r\n        {Boxs.map((box) => {\r\n          if (box.text === undefined) {\r\n            return (\r\n              <Todobox\r\n                question={box.header}\r\n                key={box.id}\r\n                todoItems={box.todoItems}\r\n                isDlt={isDlt}\r\n                id={box.id}\r\n                setBoxs={setBoxs}\r\n                Boxs={Boxs}\r\n              />\r\n            );\r\n          } else {\r\n            return (\r\n              <Textbox\r\n                key={box.id}\r\n                id={box.id}\r\n                text={box.text}\r\n                question={box.question}\r\n                setBoxs={setBoxs}\r\n                isDlt={isDlt}\r\n                Boxs={Boxs}\r\n              />\r\n            );\r\n          }\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Diarybody;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"../styles/Nav.css\";\r\nimport \"../styles/Diary/Diary.css\";\r\nimport Diarytop from \"../components/Diary/Diarytop\";\r\nimport Addcard from \"../components/Diary/Addcard\";\r\nimport axios from \"axios\";\r\nimport Diarybody from \"../components/Diary/Diarybody\";\r\nimport \"animate.css\";\r\naxios.defaults.baseURL = \"https://api.onesnowwarrior.cn:8000/api\";\r\nfunction Diary(props) {\r\n  const { Link, Nav } = props;\r\n  //判断box区域是否需要模糊\r\n  const [isFilter, setIsFilter] = useState(false);\r\n  //用来增加或删除格子（小卡片） 判断出现的时机\r\n  const [isAdd, setisAdd] = useState(false);\r\n  // 判断是否要出现删除box按钮\r\n  const [isDlt, setIsDlt] = useState(false);\r\n  //用来确认卡片类型\r\n  const [typeStatus, setTypeStatus] = useState(\"待办\");\r\n  //用来判断卡片出现时机\r\n  const [isCard, setIsCard] = useState(false);\r\n  //卡片标题\r\n  const [question, setQuestion] = useState(\"\");\r\n  //卡片日记文本\r\n  const [text, setText] = useState(\"\");\r\n  //卡片待办输入框的输入内容\r\n  const [value, setValue] = useState(\"\");\r\n  //待办的todoItem\r\n  const [todoItems, setTodoItems] = useState([]);\r\n  // 所有盒子\r\n  const [Boxs, setBoxs] = useState([]);\r\n  let BOXS = [];\r\n  useEffect(() => {\r\n    axios({\r\n      url: \"/user/todoList\",\r\n      method: \"get\",\r\n    })\r\n      .then((res) => {\r\n        BOXS = BOXS.concat(res.data.data);\r\n        axios({\r\n          url: \"/user/diaryList\",\r\n          method: \"get\",\r\n        }).then((res) => {\r\n          setBoxs(BOXS.concat(res.data.data));\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  return (\r\n    <div className=\"diaryBox\">\r\n      <div>\r\n        <Diarytop\r\n          setIsFilter={setIsFilter}\r\n          setisAdd={setisAdd}\r\n          isAdd={isAdd}\r\n          isCard={isCard}\r\n        />\r\n      </div>\r\n      {/* 右上角卡片 */}\r\n      {isAdd && isFilter ? (\r\n        <div className=\"addOrdlt\">\r\n          <div className=\"addBox\">\r\n            <i className=\"addicon\">\r\n              <svg\r\n                t=\"1618472843294\"\r\n                viewBox=\"0 0 1024 1024\"\r\n                version=\"1.1\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                p-id=\"2184\"\r\n                width=\"21\"\r\n                height=\"15\"\r\n              >\r\n                <path\r\n                  d=\"M68.266667 460.8m51.2 0l785.066666 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-785.066666 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z\"\r\n                  fill=\"#999999\"\r\n                  p-id=\"2185\"\r\n                ></path>\r\n                <path\r\n                  d=\"M460.8 955.733333m0-51.2l0-785.066666q0-51.2 51.2-51.2l0 0q51.2 0 51.2 51.2l0 785.066666q0 51.2-51.2 51.2l0 0q-51.2 0-51.2-51.2Z\"\r\n                  fill=\"#999999\"\r\n                  p-id=\"2186\"\r\n                ></path>\r\n              </svg>\r\n            </i>\r\n            <p\r\n              className=\"addText\"\r\n              onClick={() => {\r\n                setIsCard(true);\r\n                setisAdd(false);\r\n              }}\r\n            >\r\n              增加格子\r\n            </p>\r\n          </div>\r\n          <div className=\"dltBox\">\r\n            <i className=\"addicon\">\r\n              <svg\r\n                t=\"1618473801180\"\r\n                viewBox=\"0 0 1024 1024\"\r\n                version=\"1.1\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                p-id=\"2941\"\r\n                width=\"21\"\r\n                height=\"15\"\r\n              >\r\n                <path\r\n                  d=\"M903.053 570.75H121.046c-32.391 0-58.649-26.256-58.649-58.647s26.256-58.661 58.649-58.661h782.009c32.406 0 58.649 26.27 58.649 58.661-0.001 32.393-26.245 58.647-58.649 58.647z\"\r\n                  p-id=\"2942\"\r\n                  fill=\"#bfbfbf\"\r\n                ></path>\r\n              </svg>\r\n            </i>\r\n            <p\r\n              className=\"dltText\"\r\n              onClick={() => {\r\n                setIsDlt(true);\r\n                setisAdd(false);\r\n                setIsFilter(false);\r\n              }}\r\n            >\r\n              删除格子\r\n            </p>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n      {/* 中间卡片 */}\r\n      {isCard ? (\r\n        <Addcard\r\n          typeStatus={typeStatus}\r\n          setTypeStatus={setTypeStatus}\r\n          value={value}\r\n          setValue={setValue}\r\n          todoItems={todoItems}\r\n          setTodoItems={setTodoItems}\r\n          setIsFilter={setIsFilter}\r\n          setIsCard={setIsCard}\r\n          question={question}\r\n          setQuestion={setQuestion}\r\n          text={text}\r\n          setText={setText}\r\n          setBoxs={setBoxs}\r\n          Boxs={Boxs}\r\n        />\r\n      ) : null}\r\n      {/* {axios.({\r\n        url:\"\"\r\n      })} */}\r\n      {/* 日记展示区 */}\r\n      <Diarybody\r\n        setisAdd={setisAdd}\r\n        setIsFilter={setIsFilter}\r\n        setIsDlt={setIsDlt}\r\n        Boxs={Boxs}\r\n        isDlt={isDlt}\r\n        isFilter={isFilter}\r\n        setBoxs={setBoxs}\r\n      />\r\n      {/* 底部导航栏 */}\r\n      <div style={{ height: \"10vh\" }}>\r\n        <Nav Link={Link} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Diary;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default function Showdata({ times = 7, item, barCard }) {\r\n  const Bar = styled.div`\r\n    width: ${20 * times + \"px\"};\r\n    height: 20px;\r\n    position: absolute;\r\n    left: 53px;\r\n    background-color: ${barCard};\r\n    border-radius: 0 4px 4px 0;\r\n  `;\r\n  const ItemName = styled.p`\r\n    color: #949494;\r\n    position: absolute;\r\n    font-size: 14px;\r\n    text-align: right;\r\n    width: 42px;\r\n    height: 18px;\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-line-clamp: 1;\r\n    overflow: hidden;\r\n  `;\r\n  const Times = styled.p`\r\n    color: #949494;\r\n    position: absolute;\r\n    right: 0;\r\n    transform: translateY(1px);\r\n    font-size: 14px;\r\n    text-align: right;\r\n    width: 42px;\r\n    height: 18px;\r\n  `;\r\n  return (\r\n    <div className=\"bar-chart\">\r\n      <ItemName>{item}</ItemName>\r\n      <Bar></Bar>\r\n      <Times>{times}次</Times>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Showdata from \"./Showdata\";\r\n\r\nfunction Stacard({ setSelectStatus, selectStatus, staCard, barColor }) {\r\n  const { header, todoItems } = staCard;\r\n  return (\r\n    <div className=\"statistics-card\">\r\n      <div className=\"statistics-card-header\">\r\n        <h2 className=\"statistics-card-question\">{header}</h2>\r\n        <select\r\n          className=\"statistics-choose-date\"\r\n          onChange={(event) => setSelectStatus(event.target.value)}\r\n        >\r\n          <option value=\"一周内\" hidden={selectStatus === \"一周内\"}>\r\n            一周内\r\n          </option>\r\n          <option value=\"二周内\" hidden={selectStatus === \"二周内\"}>\r\n            二周内\r\n          </option>\r\n          <option value=\"一月内\" hidden={selectStatus === \"一月内\"}>\r\n            一月内\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div className=\"statistics-show-data\" id=\"container\">\r\n        {todoItems.map((todoItem,index ) => {\r\n          const { times, item, id } = todoItem;\r\n          return (\r\n            <Showdata barCard={barColor[index]} key={id} times={times} item={item} />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stacard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"../styles/Statistics.css\";\r\nimport Stacard from \"../components/Statistics/Stacard\";\r\nimport axios from \"axios\";\r\n\r\nconst barColor = [\"#B8F1FF\", \"#FFD5A4\", \"#FFC2B8\", \"#C4FFB8\"];\r\n\r\nfunction Statistics(props) {\r\n  const { Link, Nav } = props;\r\n  //选择时间查看次数\r\n  const [selectStatus, setSelectStatus] = useState(\"一周内\");\r\n  //每个卡片的数据\r\n  const [staCards, setStaCards] = useState([]);\r\n  useEffect(() => {\r\n    axios({\r\n      url: \"/user/statistics?time=2021-04-16\",\r\n      method: \"get\",\r\n    }).then((res) => {\r\n      console.log(res.data.data);\r\n      setStaCards(res.data.data);\r\n      console.log(staCards);\r\n    });\r\n  }, []);\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        padding: \"20px 0 0 0\",\r\n        backgroundColor: \"#FAF9F9\",\r\n      }}\r\n    >\r\n      <div className=\"statistics-box\">\r\n        <div className=\"statistics-top\">\r\n          <h2>统计</h2>\r\n        </div>\r\n        <div className=\"statistics-body\">\r\n          {staCards.map((staCard, index) => {\r\n            return (\r\n              <Stacard\r\n                key={staCard.header}\r\n                selectStatus={selectStatus}\r\n                setSelectStatus={setSelectStatus}\r\n                staCard={staCard}\r\n                barColor={barColor}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div style={{ height: \"10vh\" }}>\r\n        <Nav Link={Link} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n","import React from \"react\";\r\n\r\nfunction Hometop() {\r\n  return <div className=\"home-top\">123</div>;\r\n}\r\n\r\nexport default Hometop;\r\n","import React from \"react\";\r\nimport Nav from \"../components/Nav\";\r\nimport Hometop from \"../components/Home/Hometop\";\r\n\r\nfunction Home(props) {\r\n  const { Nav, Link } = props;\r\n  return (\r\n    <div>\r\n      <Hometop />\r\n      <div></div>\r\n      <div style={{ height: \"10vh\" }}>\r\n        <Nav Link={Link} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport ReactCrop from \"react-image-crop\";\r\nimport {\r\n  base64StringtoFile,\r\n  downloadBase64File,\r\n  extractImageFileExtensionFromBase64,\r\n  image64toCanvasRef,\r\n} from \"./ResuableUtils\";\r\nimport \"./custom-image-crop.css\";\r\nimport \"inter-ui/inter.css\";\r\nimport Login from \"./views/Login\";\r\nimport Nav from \"./components/Nav\";\r\nimport Diary from \"./views/Diary\";\r\nimport Statistics from \"./views/Statistics\";\r\nimport { GeistProvider, CssBaseline } from \"@geist-ui/react\";\r\nimport Home from './views/Home';\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n          <Route path=\"/login\">\r\n            <GeistProvider>\r\n              <CssBaseline />\r\n              <Login />\r\n            </GeistProvider>\r\n          </Route>\r\n          <Route path=\"/home\" >\r\n            <Home Link={Link} Nav={Nav}/>\r\n          </Route>\r\n          <Route path=\"/statistics\">\r\n            <Statistics Link={Link} Nav={Nav} />\r\n          </Route>\r\n          <Route path=\"/topics\">\r\n            <Topics />\r\n          </Route>\r\n          <Route path=\"/\">\r\n              <Diary Link={Link} Nav={Nav} />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction Topics() {\r\n  let match = useRouteMatch();\r\n  return (\r\n    <div>\r\n      <h2>Topics</h2>\r\n      <ul>\r\n        <li>\r\n          <Link to={`${match.url}/components`}>Components</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`${match.url}/props-v-state`}>Props v. State</Link>\r\n        </li>\r\n      </ul>\r\n\r\n      <Switch>\r\n        <Route path={match.path}>\r\n          <h3>Please select a topic.</h3>\r\n        </Route>\r\n      </Switch>\r\n      <Nav Link={Link} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Upload() {\r\n  const imageMaxSize = 1000000000; // bytes\r\n  const acceptedFileTypes =\r\n    \"image/x-png, image/png, image/jpg, image/jpeg, image/gif\";\r\n  const acceptedFileTypesArray = acceptedFileTypes.split(\",\").map((item) => {\r\n    return item.trim();\r\n  });\r\n  let fileInputRef = React.createRef();\r\n  let imagePreviewCanvasRef = React.createRef();\r\n  let [imgSrc, setimgSrc] = useState(null);\r\n  let [imgSrcExt, setimgSrcExt] = useState(null);\r\n  let [crop, setcrop] = useState({\r\n    unit: \"%\",\r\n    width: 50,\r\n    height: 50,\r\n    x: 25,\r\n    y: 25,\r\n    aspect: 1 / 1,\r\n  });\r\n\r\n  const verifyFile = (files) => {\r\n    if (files && files.length > 0) {\r\n      const currentFile = files[0];\r\n      const currentFileType = currentFile.type;\r\n      const currentFileSize = currentFile.size;\r\n      if (currentFileSize > imageMaxSize) {\r\n        alert(\r\n          \"This file is not allowed. \" + currentFileSize + \" bytes is too large\"\r\n        );\r\n        return false;\r\n      }\r\n      if (!acceptedFileTypesArray.includes(currentFileType)) {\r\n        alert(\"This file is not allowed. Only images are allowed.\");\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const handleOnDrop = (files, rejectedFiles) => {\r\n    if (rejectedFiles && rejectedFiles.length > 0) {\r\n      verifyFile(rejectedFiles);\r\n    }\r\n\r\n    if (files && files.length > 0) {\r\n      const isVerified = verifyFile(files);\r\n      if (isVerified) {\r\n        // imageBase64Data\r\n        const currentFile = files[0];\r\n        const myFileItemReader = new FileReader();\r\n        myFileItemReader.addEventListener(\r\n          \"load\",\r\n          () => {\r\n            // console.log(myFileItemReader.result)\r\n            const myResult = myFileItemReader.result;\r\n            setimgSrc(myResult);\r\n            setimgSrcExt(extractImageFileExtensionFromBase64(myResult));\r\n            // setState({\r\n            //   imgSrc: myResult,\r\n            //   imgSrcExt: extractImageFileExtensionFromBase64(myResult),\r\n            // });\r\n          },\r\n          false\r\n        );\r\n\r\n        myFileItemReader.readAsDataURL(currentFile);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOnCropChange = (crop) => {\r\n    setcrop(crop);\r\n  };\r\n  //预览部分\r\n  const handleOnCropComplete = (crop, pixelCrop) => {\r\n    // pixelCrop.x=crop.x;\r\n    // pixelCrop.y=crop.y;\r\n    const canvasRef = imagePreviewCanvasRef.current;\r\n    image64toCanvasRef(canvasRef, imgSrc, pixelCrop, crop);\r\n  };\r\n  const handleDownloadClick = (event) => {\r\n    event.preventDefault();\r\n    if (imgSrc) {\r\n      const canvasRef = imagePreviewCanvasRef.current;\r\n\r\n      const imageData64 = canvasRef.toDataURL(\"image/\" + imgSrcExt);\r\n\r\n      const myFilename = \"previewFile.\" + imgSrcExt;\r\n\r\n      // file to be uploaded\r\n      const myNewCroppedFile = base64StringtoFile(imageData64, myFilename);\r\n      // download file\r\n      downloadBase64File(imageData64, myFilename);\r\n      handleClearToDefault();\r\n    }\r\n  };\r\n\r\n  const handleClearToDefault = (event) => {\r\n    if (event) event.preventDefault();\r\n    const canvas = imagePreviewCanvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    setimgSrcExt(null);\r\n    setimgSrc(null);\r\n    setcrop({ unit: \"%\", width: 50, height: 50 });\r\n    fileInputRef.current.value = null;\r\n  };\r\n\r\n  const handleFileSelect = (event) => {\r\n    // console.log(event)\r\n    const files = event.target.files;\r\n    if (files && files.length > 0) {\r\n      const isVerified = verifyFile(files);\r\n      if (isVerified) {\r\n        // imageBase64Data\r\n        const currentFile = files[0];\r\n        const myFileItemReader = new FileReader();\r\n        myFileItemReader.addEventListener(\r\n          \"load\",\r\n          () => {\r\n            // console.log(myFileItemReader.result)\r\n            const myResult = myFileItemReader.result;\r\n            setimgSrc(myResult);\r\n            setimgSrcExt(extractImageFileExtensionFromBase64(myResult));\r\n            // setState({\r\n            //   imgSrc: myResult,\r\n            //   imgSrcExt: extractImageFileExtensionFromBase64(myResult),\r\n            // });\r\n          },\r\n          false\r\n        );\r\n\r\n        myFileItemReader.readAsDataURL(currentFile);\r\n      }\r\n    }\r\n  };\r\n  const handleImgLoaded = (img) => {\r\n    const aspect = 1 / 1;\r\n    const width = img.width < img.height ? 100 : (img.height / img.width) * 100;\r\n    const height =\r\n      img.width > img.height ? 100 : (img.width / img.height) * 100;\r\n    const y = (100 - height) / 2;\r\n    const x = (100 - width) / 2;\r\n    setcrop({ unit: \"%\", width, height, x, y, aspect });\r\n  };\r\n  // let CROPPER;\r\n  // const Inputimg = styled.input`\r\n  //   display: none;\r\n  // `;\r\n  // const Imgsize = styled.img`\r\n  //   height: 300px;\r\n  //   width: 300px;\r\n  // `;\r\n  // const PreviewBox = styled.div`\r\n  //   box-shadow: 0 0 5px #adadad;\r\n  //   width: 100px;\r\n  //   height: 100px;\r\n  //   margin-top: 30px;\r\n  //   overflow: hidden;\r\n  // `;\r\n  // const loadingImg = (eve) => {\r\n  //   let reader = new FileReader();\r\n  //   if (eve.target.files[0]) {\r\n  //     reader.readAsDataURL(eve.target.files[0]);\r\n  //     reader.onload = (e) => {\r\n  //       let dataURL = reader.result;\r\n  //       document.querySelector(\"#cropImg\").src = dataURL;\r\n  //       const image = document.getElementById(\"cropImg\");\r\n  //       CROPPER = new Cropper(image, {\r\n  //         aspectRatio: 16 / 16,\r\n  //         viewMode: 2,\r\n  //         minContainerWidth: 300,\r\n  //         minContainerHeight: 300,\r\n  //         dragMode: \"move\",\r\n  //         background: false,\r\n  //         autoCropArea:1,\r\n  //         preview: [\r\n  //           document.querySelector(\".previewBox\"),\r\n  //           document.querySelector(\".previewBoxRound\"),\r\n  //         ],\r\n  //         setCropBoxData:{\r\n  //           width:500,\r\n  //           height:500\r\n  //         }\r\n  //       });\r\n  //     };\r\n  //   }\r\n  // };\r\n  // const uploadImg = () => {\r\n  //   document.querySelector(\"#imgReader\").click();\r\n  //   if (CROPPER) {\r\n  //     CROPPER.destroy();\r\n  //   }\r\n  // };\r\n\r\n  // const cropperRef = useRef<HTMLImageElement>();\r\n  // const onCrop = () => {\r\n  //   const imageElement = cropperRef?.current;\r\n  //   const cropper = imageElement?.cropper;\r\n  //   console.log(cropper.getCroppedCanvas().toDataURL());\r\n  // };\r\n  return (\r\n    <div className=\"upload-box\">\r\n      <h1>Drop and Crop</h1>\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept={acceptedFileTypes}\r\n        multiple={false}\r\n        onChange={handleFileSelect}\r\n      />\r\n      <div>\r\n        <ReactCrop\r\n          src={imgSrc}\r\n          crop={crop}\r\n          onComplete={handleOnCropComplete}\r\n          onChange={handleOnCropChange}\r\n          onImageLoaded={handleImgLoaded}\r\n        />\r\n\r\n        <br />\r\n        <p>Preview Canvas Crop </p>\r\n        <canvas\r\n          ref={imagePreviewCanvasRef}\r\n          style={{ borderRadius: \"50%\" }}\r\n        ></canvas>\r\n        <button onClick={handleDownloadClick}>Download</button>\r\n        <button onClick={handleClearToDefault}>Clear</button>\r\n      </div>\r\n      {/* <Cropper\r\n        style={{ height: 800, width: \"50%\" }}\r\n        initialAspectRatio={1 / 1}\r\n        guides={false}\r\n        // crop={onCrop}\r\n        // ref={cropperRef}\r\n        /> */}\r\n\r\n      {/* <Inputimg\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          id=\"imgReader\"\r\n          onChange={loadingImg}\r\n        />\r\n        <Imgsize id=\"cropImg\"></Imgsize>\r\n        <div>裁剪预览</div>\r\n        <PreviewBox className=\"previewBox\"></PreviewBox>\r\n        <div className=\"previewBoxRound\"></div>\r\n        <button onClick={uploadImg}>上传</button> */}\r\n      <Nav Link={Link} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./App.css\";\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://api.onesnowwarrior.cn:8000/api\";\r\nlet AUTH_TOKEN = \"Bearer \"+localStorage.getItem(\"token\")\r\naxios.defaults.headers.common[\"Authorization\"] = AUTH_TOKEN;\r\n\r\nReactDOM.render(<App />,document.getElementById(\"root\"));\r\n"],"sourceRoot":""}